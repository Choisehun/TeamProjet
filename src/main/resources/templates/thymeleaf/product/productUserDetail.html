<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="UTF-8">
    <title>Product User Detail</title>
    <link rel="stylesheet" href="/static/css/productUserDetail.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script th:src="@{/js/button.js}"></script>

</head>

<body>

<div class="container">
    <div class="image">
        <img th:src="${productDetail.get().getImage()}" alt="Product Image">
    </div>

    <div class="product-info">
        <table>
            <tr>
                <th>Ïù¥Î¶Ñ</th>
                <td th:text="${productDetail.get().getName()}"></td>
            </tr>
            <tr>
                <th>Í∞ÄÍ≤©</th>
                <!--  <td th:text="${productDetail.get().getPrice()}"></td> -->
                <td><span th:text="${#numbers.formatInteger(productDetail.get().getPrice(), 3, 'COMMA')}"></span> Ïõê</td>
            </tr>
            <tr>
                <th>ÏÑ§Î™Ö</th>
                <td th:text="${productDetail.get().getDescription()}"></td>
            </tr>
            <tr>
                <th>Ïû¨Í≥†</th>
                <td th:text="${productDetail.get().getStock()}"></td>
            </tr>

        </table>
        <table>
            <tr>
                <th>Î¶¨Î∑∞</th>
                <a th:href="@{/product/review/add(productId=${productDetail.get().getId()})}">ÏûëÏÑ±</a>
            </tr>
            <tr th:each="productReview:${productReviewList}">
                <td th:text="${productReview.getTitle()}"></td>
                <td th:text="${productReview.getContent()}"></td>
                <td><img th:src="${productReview.getImagePath()}"></td>
                <td th:text="${productReview.getUser().getUserId()}"></td>
                <td th:text="${productReview.getTime()}"></td>
                <a th:href="@{/product/review/delete(reviewId=${productReview.getId()})}">ÏÇ≠Ï†ú</a>
                <a th:href="@{/product/review/update(reviewId=${productReview.getId()})}">ÏàòÏ†ï</a>
            </tr>
            <tr>
                <td th:if="${productReviewList.getNumber()}"></td>
            </tr>
        </table>

        <form th:action="@{/order/create}" method="get">
            <input type="hidden" name="productId" th:value="${productId}">
            ÏàòÎüâ :&nbsp;&nbsp;<input type="number" name="salesCount" min="1" max="100"
                                   style="width: 35px;height: 35px; border-radius: 9px; border-style: double" value="1">
            <button type="button" class="btn btn-primary btn-lg float-right" id="buy-button">Íµ¨Îß§ÌïòÍ∏∞</button>
        </form>

        <form th:action="@{/update/like}">
            <input type="hidden" name="productId" th:value="${productId}">
            <button type="submit">
                <span th:if="${isLiked}">‚ù§Ô∏è</span>
                <span th:if="${!isLiked}">üñ§</span>
            </button>
        </form>


    </div>
</div>

</body>

</html>